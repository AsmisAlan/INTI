CREATE TABLE GEOUSERS.SECTOR(
	IDSECTOR INT IDENTITY PRIMARY KEY,
	NOMBRE VARCHAR(50) NOT NULL,
	IDICONO INT
);

ALTER TABLE GEOUSERS.SECTOR ADD CONSTRAINT FK_SECTOR_ICONO FOREIGN KEY (IDICONO) REFERENCES GEOUSERS.ARCHIVO;

CREATE TABLE GEOUSERS.RUBRO (
	IDRUBRO INT IDENTITY PRIMARY KEY,
	NOMBRE VARCHAR(50) NOT NULL,
	IDSECTOR INT FOREIGN KEY REFERENCES GEOUSERS.SECTOR NOT NULL
)

CREATE TABLE GEOUSERS.TIPO_ORGANIZACION (
	IDTIPOORGANIZACION INT IDENTITY PRIMARY KEY,
	TIPO VARCHAR(50) NOT NULL
);

CREATE TABLE GEOUSERS.LOCALIDAD (
	IDLOCALIDAD INT IDENTITY PRIMARY KEY,
	CODIGOPOSTAL INT UNIQUE NOT NULL,
	NOMBRE VARCHAR(50) NOT NULL
);

CREATE TABLE GEOUSERS.ORGANIZACION (
 IDORGANIZACION INT IDENTITY PRIMARY KEY,
 NOMBRE VARCHAR(50) NOT NULL, 
 DIRECCION VARCHAR(40) NOT NULL,
 TELEFONO VARCHAR(20) NOT NULL,
 CONTACTOCARGO VARCHAR(15) NOT NULL,
 EMAIL VARCHAR(25) NOT NULL,
 WEB VARCHAR(25),
 CUIT BIGINT UNIQUE,
 PERSONAL INT,
 USUARIOINTI BIT NOT NULL,
 LATITUD VARCHAR(50),
 LONGITUD VARCHAR(50),
 IDLOCALIDAD INT FOREIGN KEY REFERENCES GEOUSERS.LOCALIDAD NOT NULL,
 IDTIPOORGANIZACION INT FOREIGN KEY REFERENCES GEOUSERS.ORGANIZACION NOT NULL,
 IDRUBRO INT FOREIGN KEY REFERENCES GEOUSERS.RUBRO NOT NULL
);

CREATE TABLE GEOUSERS.ARCHIVO (
	ID INT IDENTITY PRIMARY KEY,
	RUTA VARCHAR(MAX),
	NOMBRE VARCHAR(50),
	EXTENSION VARCHAR(5) NOT NULL
);
